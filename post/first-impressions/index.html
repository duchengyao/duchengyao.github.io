<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#222">
  <link rel="manifest" href="/images/site.webmanifest">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"s1nh.org","root":"/","images":"/images","scheme":"Gemini","version":"8.3.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="User interview agreeableness conscientiousness extraversion neuroticism openness    heysky 0.920916 0.913731 0.919769 0.921289 0.914613 0.917014   hershd23 0.9180 0.9111 0.9153 0.9150 0.9100 0.9102">
<meta property="og:type" content="article">
<meta property="og:title" content="第一印象（First Impressions）人物性格特征预测">
<meta property="og:url" content="http://s1nh.org/post/first-impressions/index.html">
<meta property="og:site_name" content="S1NH">
<meta property="og:description" content="User interview agreeableness conscientiousness extraversion neuroticism openness    heysky 0.920916 0.913731 0.919769 0.921289 0.914613 0.917014   hershd23 0.9180 0.9111 0.9153 0.9150 0.9100 0.9102">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-10-12T04:21:18.000Z">
<meta property="article:modified_time" content="2020-10-12T09:15:24.000Z">
<meta property="article:author" content="S1NH">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://s1nh.org/post/first-impressions/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>第一印象（First Impressions）人物性格特征预测 | S1NH</title>
  

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?4c66a84272e0f7943a305accf6dbdf41";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">S1NH</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">世界在旅程的尽头终结</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0x01-Dataset"><span class="nav-number">1.</span> <span class="nav-text">0x01 Dataset</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="S1NH"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">S1NH</p>
  <div class="site-description" itemprop="description">no other developers required.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">75</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">75</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.92ez.com/" title="https:&#x2F;&#x2F;www.92ez.com&#x2F;" rel="noopener" target="_blank">一只猿</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://s1nh.com/" title="http:&#x2F;&#x2F;s1nh.com&#x2F;" rel="noopener" target="_blank">本站 github 镜像</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://s1nh.org/" title="http:&#x2F;&#x2F;s1nh.org&#x2F;">本站国内镜像</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://s1nh.org/post/first-impressions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="S1NH">
      <meta itemprop="description" content="no other developers required.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="S1NH">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          第一印象（First Impressions）人物性格特征预测
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-10-12 12:21:18 / 修改时间：17:15:24" itemprop="dateCreated datePublished" datetime="2020-10-12T12:21:18+08:00">2020-10-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E4%BD%9C%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">工作笔记</span></a>
        </span>
    </span>

  
    <span id="/post/first-impressions/" class="post-meta-item leancloud_visitors" data-flag-title="第一印象（First Impressions）人物性格特征预测" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <table>
<thead>
<tr>
<th>User</th>
<th>interview</th>
<th>agreeableness</th>
<th>conscientiousness</th>
<th>extraversion</th>
<th>neuroticism</th>
<th>openness</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://github.com/frkngrpnr/jcs">heysky</a></td>
<td>0.920916</td>
<td>0.913731</td>
<td>0.919769</td>
<td>0.921289</td>
<td>0.914613</td>
<td>0.917014</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/hershd23/VideoModalitiesML">hershd23</a></td>
<td>0.9180</td>
<td>0.9111</td>
<td>0.9153</td>
<td>0.9150</td>
<td>0.9100</td>
<td>0.9102</td>
</tr>
<tr>
<td>baseline</td>
<td>0.916202</td>
<td>0.91123</td>
<td>0.915228</td>
<td>0.91122</td>
<td>0.910378</td>
<td>0.911123</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/Bekhouche/FirstImpressionsV2">bekhouche</a></td>
<td>0.915746</td>
<td>0.910312</td>
<td>0.913775</td>
<td>0.91551</td>
<td>0.908297</td>
<td>0.910078</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/MS1997/Apparent-personality-analysis-using-videos">*MS1997</a></td>
<td>0.9047</td>
<td>0.9075</td>
<td>0.9066</td>
<td>0.9030</td>
<td>0.9018</td>
<td>0.9046</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/ROC-HCI/chalearn_coopetition_2017">go2chayan</a></td>
<td>0.901859</td>
<td>0.903216</td>
<td>0.894914</td>
<td>0.90266</td>
<td>0.901147</td>
<td>0.904709</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/Benlamoudi/FDMB">azzasama</a></td>
<td>0.872129</td>
<td>0.891004</td>
<td>0.865975</td>
<td>0.878842</td>
<td>0.863237</td>
<td>0.874761</td>
</tr>
</tbody></table>
<span id="more"></span>

<p><strong>more</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://towardsdatascience.com/can-your-video-be-used-to-detect-your-personality-d8423f6d3cb3">MS1997 blog</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/InnovArul/first-impressions">https://github.com/InnovArul/first-impressions</a></li>
<li>raphaellederman.github.io</li>
</ul>
<h2 id="0x01-Dataset"><a href="#0x01-Dataset" class="headerlink" title="0x01 Dataset"></a>0x01 Dataset</h2><blockquote>
<p>V1 (ECCV ‘16, ICPR ‘16) <a target="_blank" rel="noopener" href="http://chalearnlap.cvc.uab.es/dataset/20/description/">http://chalearnlap.cvc.uab.es/dataset/20/description/</a><br>V2 (CVPR’17) <a target="_blank" rel="noopener" href="http://chalearnlap.cvc.uab.es/dataset/24/description/">http://chalearnlap.cvc.uab.es/dataset/24/description/</a></p>
</blockquote>
<p>First Impressions 数据集包含10,000个剪辑（平均持续时间15s），这些剪辑是从3,000个不同的YouTube高清晰度（HD）视频中提取出来的，这些视频分别是面对和用英语对着摄像机说话的人。这些视频按3：1：1的比例分为训练/验证/测试集。视频中的人包括不同的性别，年龄，国籍和种族。</p>
<p>视频有人格特征标签（personality traits variables），使用Amazon Mechanical Turk（AMT）生成，采用了可靠的程序来保证标签的可靠性。认为的人格特质来自五因素模型（也称为“Big Five”），这是人格研究中的主导范式。它从五个方面对人格进行建模：性格外向（Extroversion），乐于助人（Agreeableness），尽职尽责（Conscientiousness），神经质（Neuroticism）和开放经验（Openness to experience）。因此，每个剪辑都有针对这五个特征的地面真相标签，并以[0，1]范围内的值表示。有关数据集的更多详细信息，请参见<a target="_blank" rel="noopener" href="https://docs.google.com/viewer?a=v&pid=sites&srcid=Y2hhbGVhcm4ub3JnfGdlc3R1cmVjaGFsbGVuZ2V8Z3g6MWQ5NDEyZjQ4ODMyMGJmNw">此处</a>。</p>
<p>此前基于 MTurk 注释和“小片段音/视频”对人格特质的进行预测的研究可以参考：</p>
<p>J.-I. Biel, O. Aran, and D. Gatica-Perez, You Are Known by How You Vlog: Personality Impressions and Nonverbal Behavior in YouTube in Proc. AAAI Int. Conf. on Weblogs and Social Media (ICWSM), Barcelona, Jul. 2011</p>
<p>J.-I. Biel and D. Gatica-Perez, The YouTube Lens: Crowdsourced Personality Impressions and Audiovisual Analysis of Vlogs, IEEE Trans. on Multimedia, Vol. 15, No. 1, pp. 41-55, Jan. 2013</p>
<p>以及在ACM Multimedia 2014上的相关事件：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://sites.google.com/site/wcprst/home/wcpr14">https://sites.google.com/site/wcprst/home/wcpr14</a></li>
<li><a target="_blank" rel="noopener" href="https://www.idiap.ch/dataset/youtube-personality">https://www.idiap.ch/dataset/youtube-personality</a></li>
</ul>
<p>此外，我们还提供一个扩展数据集。具体来说，我们用新的语言数据（transcriptions）补充数据集，以补充现有的感官数据（videos）以及新的求职面试变量（interview annotations），后者补充现有的人格特质变量（trait annotations）。</p>
<p><strong>转录（Transcriptions）</strong> 视频片段中的所有单词均由专业转录服务机构转录。总共录制了435984个单词（183861个非停用词），相当于每个视频平均43个单词（18个非停用词）。在这些单词中，有14535个是唯一的（14386个非停用词）。</p>
<p><strong>面试标注（Interview annotations）</strong> 除了标记明显的人格特征之外，AMT工作者还为每个视频标记了一个变量，该变量指示是否应邀请该人参加工作面试（“工作面试变量”）。此变量还用[0，1]范围内的值表示。</p>
<p><strong>数据格式（Groundtruth file format）</strong></p>
<p>注释和转录存储在pickled dictionaries中。每个阶段应该有一个文件用于注释(annotations)，一个文件用于转录(transcriptions)。</p>
<p>每个视频都有一个转录（如果视频中没有要转录的内容，则其对应的转录将是一个空字符串）。每个转录都是一个unicode对象。转录文件是一个字典。也就是说，其键是视频的名称，其值是相应的转录。例如：</p>
<p>transcription [‘a_video_name’]将给出名为“ a_video_name”的视频的转录。</p>
<p>每个视频还具有六个注释（五个特征和一个采访）。每个注释都是介于零和一之间的值。注释文件是词典的字典。也就是说，外部字典的键是注释的名称，其值是字典。内部词典的键是视频的名称，其值是与外部词典的键相对应的实际注释。例如：</p>
<p>annotation[‘interview’] [‘a_video_name’] 会给出名为 “ a_video_name” 的视频的采访注释的值。<br>annotation[‘openness’] [‘another_video_name’] 会给出名为 “ another_video_name” 的视频的开放性注解的值。</p>
<p>可以在<a target="_blank" rel="noopener" href="http://158.109.8.102/FirstImpressionsV2/prediction.zip">此处</a>找到测试阶段的样本预测文件（定量）。</p>
<p>您可以在<a target="_blank" rel="noopener" href="http://158.109.8.102/FirstImpressionsV2/submission_bundle.zip">此处</a>找到第二阶段的样本预测文件（定性）。</p>
<p><strong>密钥</strong></p>
<p>Encryption key for validation groundtruth and test set (without groundtruth) is “zeAzLQN7DnSIexQukc9W”.<br>Encryption key for files test80_01.zip to test80_25.zip is “.chalearnLAPFirstImpressionsSECONDRoundICPRWorkshop2016.”.</p>
<p><strong>New!</strong></p>
<p>我们正在为第一印象数据集提供可用的性别和种族注释。这些标签由Heysem Kaya和Albert Ali Salah提供。 </p>
<p>请引用以下论文以引用此类注释：</p>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1802.00745">Hugo Jair Escalante, Heysem Kaya, Albert Ali Salah, Sergio Escalera, Yagmur Gucluturk, Umut Guclu, Xavier Baro, Isabelle Guyon, Julio Jacques Junior, Meysam Madadi, Stephane Ayache, Evelyne Viegas, Furkan Gurpinar, Achmadnoer Sukma Wicaksana, Cynthia C. S. Liem, Marcel A. J. van Gerven, Rob van Lier Explaining First Impressions: Modeling, Recognizing, and Explaining Apparent Personality from Videos. ArXiv, 1802.00745, 2018</a></p>
<p>标签如下：</p>
<ul>
<li>种族：亚洲人= 1，高加索人= 2，非裔美国人= 3</li>
<li>性别：男= 1，女= 2</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/post/jetson-nano-reduce-memory-usage/" rel="prev" title="「Jetson Nano」 Reduce Memory Usage">
                  <i class="fa fa-chevron-left"></i> 「Jetson Nano」 Reduce Memory Usage
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/post/tensorflow-bug2/" rel="next" title="「tensorflow」 Variable was uninitialized">
                  「tensorflow」 Variable was uninitialized <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>







<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2015 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">S1NH</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/local-search.js"></script>






  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      const visitors = document.querySelector('.leancloud_visitors');
      const url = decodeURI(visitors.id);
      const title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            const counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      const visitors = document.querySelectorAll('.leancloud_visitors');
      const entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            const target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    const { app_id, app_key, server_url } = {"enable":true,"app_id":"6DfRIwT9PDOmweurpXmSotWE-gzGzoHsz","app_key":"AG3rkzafm0Kv6lYsyVw1RvJL","server_url":null,"security":false};
    function fetchData(api_server) {
      const Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    const api_server = app_id.slice(-9) === '-MdYXbMMI' ? `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com` : server_url;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


  <script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'none'
      },
      options: {
        renderActions: {
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              const target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js';
    script.defer = true;
    document.head.appendChild(script);
  } else {
    MathJax.startup.document.state(0);
    MathJax.typesetClear();
    MathJax.texReset();
    MathJax.typeset();
  }
</script>



</body>
</html>
